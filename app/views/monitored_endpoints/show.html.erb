<%= turbo_stream_from @monitored_endpoint %>

<% content_for :title, "Showing monitored endpoint" %>

<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div class="flex justify-between items-center">
    <h1 class="font-bold text-4xl"><%= @monitored_endpoint.title %></h1>
    <div>
      <%= link_to "Edit this monitored endpoint", edit_monitored_endpoint_path(@monitored_endpoint), class: "btn btn-primary" %>
      <div class="sm:inline-block mt-2 sm:mt-0 sm:ml-2">
        <%= button_to "Destroy this monitored endpoint", @monitored_endpoint, method: :delete, class: "btn", data: { turbo_confirm: "Are you sure?" } %>
      </div>
    </div>
  </div>

  <div class="breadcrumbs text-sm">
    <ul>
      <li><%= link_to "Home", root_path %></li>
      <li><%= link_to "Monitored endpoints", monitored_endpoints_path %></li>
      <li><%= @monitored_endpoint.title %></li>
    </ul>
  </div>

  <%= render @monitored_endpoint %>
  <p class="text-gray-600">status: <%= @monitored_endpoint.status %></p>

  <div>
    <%= @monitored_endpoint.checks.map { |c| [c.id, c.response_code, c.latency] } %>
  </div>
</div>

